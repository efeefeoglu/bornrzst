<header class="site-header" role="banner">
  <div class="container site-header__inner">
    <a class="site-header__logo" href="{{ routes.root_url }}">
      {%- if section.settings.logo != blank -%}
        {%- assign logo_alt = section.settings.logo_alt | default: shop.name -%}
        {{ section.settings.logo | image_url: width: 200 | image_tag: alt: logo_alt, class: 'site-header__logo-image' }}
      {%- else -%}
        <span class="site-header__logo-text">{{ section.settings.logo_text | default: shop.name }}</span>
      {%- endif -%}
    </a>
    {%- if section.settings.menu != blank and section.settings.menu.links.size > 0 -%}
      <nav class="site-header__nav" aria-label="Main navigation">
        <ul class="site-header__menu" role="list">
          {%- for link in section.settings.menu.links -%}
            <li class="site-header__menu-item">
              <a class="site-header__menu-link" href="{{ link.url }}"{% if link.current %} aria-current="page"{% endif %}>{{ link.title }}</a>
              {%- if link.links.size > 0 -%}
                <ul class="site-header__submenu" role="list">
                  {%- for child_link in link.links -%}
                    <li class="site-header__submenu-item">
                      <a class="site-header__submenu-link" href="{{ child_link.url }}"{% if child_link.current %} aria-current="page"{% endif %}>{{ child_link.title }}</a>
                    </li>
                  {%- endfor -%}
                </ul>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}
    {%- if section.settings.cta_label != blank and section.settings.cta_link != blank -%}
      <a class="btn btn--light site-header__cta" href="{{ section.settings.cta_link }}">{{ section.settings.cta_label }}</a>
    {%- endif -%}
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "text",
      "id": "logo_alt",
      "label": "Logo alt text",
      "default": "Born Resistance logo"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo text fallback",
      "default": "Born RZST"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Header menu"
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "Call-to-action label",
      "default": "Shop the Movement"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Call-to-action link",
      "default": "shopify://collections/all"
    }
  ],
  "presets": [
    {
      "name": "Header"
    }
  ]
}
{% endschema %}
