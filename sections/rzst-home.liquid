{% liquid %}
  assign timeless_blocks = section.blocks | where: 'type', 'timeless_card'
  assign voice_blocks = section.blocks | where: 'type', 'voice'
  assign footer_logo_blocks = section.blocks | where: 'type', 'footer_logo'
{% endliquid %}

<section class="hero">
  <div class="hero__content container">
    {%- if section.settings.hero_eyebrow != blank -%}
      <div class="hero__eyebrow">{{ section.settings.hero_eyebrow }}</div>
    {%- endif -%}
    {%- if section.settings.hero_title != blank -%}
      <h1 class="hero__title">{{ section.settings.hero_title }}</h1>
    {%- endif -%}
    {%- if section.settings.hero_subtitle != blank -%}
      <p class="hero__subtitle">{{ section.settings.hero_subtitle }}</p>
    {%- endif -%}
    {%- if section.settings.hero_cta_label != blank -%}
      <a class="btn btn--light" href="{{ section.settings.hero_cta_link | default: routes.all_products_collection_url }}">{{ section.settings.hero_cta_label }}</a>
    {%- endif -%}
  </div>
  <div
    class="hero__image"
    role="presentation"
    {%- if section.settings.hero_image != blank -%}
      style="--hero-image: url({{ section.settings.hero_image | image_url: width: 1600 }});"
    {%- endif -%}
  ></div>
</section>

<section class="roots">
  <div class="container roots__wrapper">
    <div
      class="roots__emblem"
      role="presentation"
      {%- if section.settings.roots_image != blank -%}
        style="background-image: url({{ section.settings.roots_image | image_url: width: 900 }});"
      {%- endif -%}
    ></div>
    <div class="roots__text">
      {%- if section.settings.roots_eyebrow != blank -%}
        <p class="section-eyebrow">{{ section.settings.roots_eyebrow }}</p>
      {%- endif -%}
      {%- if section.settings.roots_title != blank -%}
        <h2 class="section-title">{{ section.settings.roots_title }}</h2>
      {%- endif -%}
      {%- if section.settings.roots_copy != blank -%}
        <p class="section-copy">{{ section.settings.roots_copy }}</p>
      {%- endif -%}
    </div>
  </div>
</section>

<section class="timeless">
  <div class="container">
    {%- if section.settings.timeless_eyebrow != blank -%}
      <p class="section-eyebrow">{{ section.settings.timeless_eyebrow }}</p>
    {%- endif -%}
    {%- if section.settings.timeless_title != blank -%}
      <h2 class="section-title">{{ section.settings.timeless_title }}</h2>
    {%- endif -%}
    {%- if timeless_blocks.size > 0 -%}
      <div class="timeless__grid">
        {%- for block in section.blocks -%}
          {%- if block.type == 'timeless_card' -%}
            <article class="timeless__card" {{ block.shopify_attributes }}>
              <div
                class="timeless__image{% if block.settings.style_class != blank %} timeless__image--{{ block.settings.style_class }}{% endif %}"
                role="presentation"
                {%- if block.settings.image != blank -%}
                  style="background-image: url({{ block.settings.image | image_url: width: 900 }});"
                {%- endif -%}
              ></div>
              <div class="timeless__body">
                {%- if block.settings.title != blank -%}
                  <h3>{{ block.settings.title }}</h3>
                {%- endif -%}
                {%- if block.settings.copy != blank -%}
                  <p>{{ block.settings.copy }}</p>
                {%- endif -%}
                {%- if block.settings.link_label != blank and block.settings.link_url != blank -%}
                  <a class="card-link" href="{{ block.settings.link_url }}">{{ block.settings.link_label }}</a>
                {%- endif -%}
              </div>
            </article>
          {%- endif -%}
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</section>

<section class="callout">
  <div class="container callout__wrapper">
    <div class="callout__media">
      <div
        class="callout__image{% if section.settings.callout_image_style != blank %} callout__image--{{ section.settings.callout_image_style }}{% endif %}"
        role="presentation"
        {%- if section.settings.callout_image != blank -%}
          style="background-image: url({{ section.settings.callout_image | image_url: width: 1200 }});"
        {%- endif -%}
      ></div>
      {%- if section.settings.callout_badge != blank -%}
        <div class="callout__badge">{{ section.settings.callout_badge | newline_to_br }}</div>
      {%- endif -%}
    </div>
    <div class="callout__text">
      {%- if section.settings.callout_eyebrow != blank -%}
        <p class="section-eyebrow">{{ section.settings.callout_eyebrow }}</p>
      {%- endif -%}
      {%- if section.settings.callout_title != blank -%}
        <h2 class="section-title">{{ section.settings.callout_title }}</h2>
      {%- endif -%}
      {%- if section.settings.callout_copy != blank -%}
        <p class="section-copy">{{ section.settings.callout_copy }}</p>
      {%- endif -%}
      {% form 'customer', id: 'CalloutSignup', class: 'signup' %}
        <input type="hidden" name="contact[tags]" value="callout-newsletter">
        <div class="signup__fields">
          <input
            type="email"
            class="signup__input"
            name="contact[email]"
            value="{{ form.email }}"
            placeholder="{{ section.settings.callout_placeholder }}"
            required
          >
          <button type="submit" class="btn btn--dark">{{ section.settings.callout_cta_label }}</button>
        </div>
        {%- if form.errors -%}
          <p class="form-message form-message--error" role="alert">{{ form.errors | default_errors }}</p>
        {%- elsif form.posted_successfully? -%}
          <p class="form-message form-message--success" role="status">{{ section.settings.callout_success_message }}</p>
        {%- endif -%}
      {% endform %}
    </div>
  </div>
</section>

<section class="voices">
  <div class="container">
    {%- if section.settings.voices_eyebrow != blank -%}
      <p class="section-eyebrow">{{ section.settings.voices_eyebrow }}</p>
    {%- endif -%}
    {%- if section.settings.voices_title != blank -%}
      <h2 class="section-title">{{ section.settings.voices_title }}</h2>
    {%- endif -%}
    {%- if voice_blocks.size > 0 -%}
      <div class="voices__grid">
        {%- for block in section.blocks -%}
          {%- if block.type == 'voice' -%}
            <article class="voices__card" {{ block.shopify_attributes }}>
              <div
                class="voices__image{% if block.settings.style_class != blank %} voices__image--{{ block.settings.style_class }}{% endif %}"
                role="presentation"
                {%- if block.settings.image != blank -%}
                  style="background-image: url({{ block.settings.image | image_url: width: 900 }});"
                {%- endif -%}
              ></div>
              <div class="voices__body">
                {%- if block.settings.quote != blank -%}
                  <h3>"{{ block.settings.quote }}"</h3>
                {%- endif -%}
                {%- if block.settings.attribution != blank -%}
                  <p>{{ block.settings.attribution }}</p>
                {%- endif -%}
              </div>
            </article>
          {%- endif -%}
        {%- endfor -%}
      </div>
    {%- endif -%}
  </div>
</section>

<section class="footer-cta">
  <div class="container footer-cta__wrapper">
    <div class="footer-cta__left">
      {%- if section.settings.footer_cta_eyebrow != blank -%}
        <p class="section-eyebrow">{{ section.settings.footer_cta_eyebrow }}</p>
      {%- endif -%}
      {%- if section.settings.footer_cta_title != blank -%}
        <h2 class="section-title">{{ section.settings.footer_cta_title }}</h2>
      {%- endif -%}
    </div>
    <div class="footer-cta__right">
      {%- if section.settings.footer_cta_label != blank -%}
        <a class="btn btn--light" href="{{ section.settings.footer_cta_link | default: routes.all_products_collection_url }}">{{ section.settings.footer_cta_label }}</a>
      {%- endif -%}
    </div>
  </div>
  {%- if footer_logo_blocks.size > 0 -%}
    <div class="footer-logos">
      {%- for block in section.blocks -%}
        {%- if block.type == 'footer_logo' -%}
          <div class="footer-logo" {{ block.shopify_attributes }}>{{ block.settings.text }}</div>
        {%- endif -%}
      {%- endfor -%}
    </div>
  {%- endif -%}
</section>

{% schema %}
{
  "name": "Resistance home",
  "tag": "section",
  "class": "resistance-home",
  "settings": [
    {
      "type": "text",
      "id": "hero_eyebrow",
      "label": "Hero eyebrow",
      "default": "Born Resistance is not a Choice, It's Our Story"
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero title",
      "default": "Born Resistance"
    },
    {
      "type": "textarea",
      "id": "hero_subtitle",
      "label": "Hero subtitle",
      "default": "Purpose-driven apparel for those who carry the flame of liberation."
    },
    {
      "type": "text",
      "id": "hero_cta_label",
      "label": "Hero button label",
      "default": "Shop the Movement"
    },
    {
      "type": "url",
      "id": "hero_cta_link",
      "label": "Hero button link",
      "default": "shopify://collections/all"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero image"
    },
    {
      "type": "text",
      "id": "roots_eyebrow",
      "label": "Roots eyebrow",
      "default": "OUR ROOTS RUN DEEP"
    },
    {
      "type": "text",
      "id": "roots_title",
      "label": "Roots title",
      "default": "Culture, craft, and courage woven together."
    },
    {
      "type": "textarea",
      "id": "roots_copy",
      "label": "Roots text",
      "default": "Born Resistance celebrates the unbreakable spirit of our communities. Every design honors heritage, resistance, and the voices that carried us here. This is apparel for the fearless – stories stitched into every seam."
    },
    {
      "type": "image_picker",
      "id": "roots_image",
      "label": "Roots image"
    },
    {
      "type": "text",
      "id": "timeless_eyebrow",
      "label": "Timeless eyebrow",
      "default": "TIMELESS PIECES FOR A FEARLESS GENERATION"
    },
    {
      "type": "text",
      "id": "timeless_title",
      "label": "Timeless title",
      "default": "Signature drops that honor legacy and ignite the future."
    },
    {
      "type": "text",
      "id": "callout_eyebrow",
      "label": "Callout eyebrow",
      "default": "JOIN THE RESISTANCE"
    },
    {
      "type": "textarea",
      "id": "callout_title",
      "label": "Callout title",
      "default": "Drop updates, exclusive releases, and stories from the frontlines."
    },
    {
      "type": "textarea",
      "id": "callout_copy",
      "label": "Callout text",
      "default": "Get first access to our next release and learn more about the movements we stand with. This is more than merch – it is a message."
    },
    {
      "type": "text",
      "id": "callout_cta_label",
      "label": "Callout button label",
      "default": "Join the Movement"
    },
    {
      "type": "text",
      "id": "callout_placeholder",
      "label": "Callout email placeholder",
      "default": "Enter your email"
    },
    {
      "type": "textarea",
      "id": "callout_success_message",
      "label": "Callout success message",
      "default": "Thanks for joining the movement!"
    },
    {
      "type": "image_picker",
      "id": "callout_image",
      "label": "Callout image"
    },
    {
      "type": "select",
      "id": "callout_image_style",
      "label": "Callout image style",
      "default": "collage",
      "options": [
        {
          "value": "collage",
          "label": "Collage"
        },
        {
          "value": "liberation",
          "label": "Liberation"
        },
        {
          "value": "unity",
          "label": "Unity"
        }
      ]
    },
    {
      "type": "text",
      "id": "callout_badge",
      "label": "Callout badge text",
      "default": "Born<br>Resistance"
    },
    {
      "type": "text",
      "id": "voices_eyebrow",
      "label": "Voices eyebrow",
      "default": "VOICES OF TRUTH"
    },
    {
      "type": "text",
      "id": "voices_title",
      "label": "Voices title",
      "default": "Wearing the message. Sharing the mission."
    },
    {
      "type": "text",
      "id": "footer_cta_eyebrow",
      "label": "Footer CTA eyebrow",
      "default": "DECADES OF RESISTANCE. ONE MOVEMENT."
    },
    {
      "type": "textarea",
      "id": "footer_cta_title",
      "label": "Footer CTA title",
      "default": "Born Resistance is a call to remember, to rise, and to move together."
    },
    {
      "type": "text",
      "id": "footer_cta_label",
      "label": "Footer CTA button label",
      "default": "Shop the Story"
    },
    {
      "type": "url",
      "id": "footer_cta_link",
      "label": "Footer CTA button link",
      "default": "shopify://collections/all"
    }
  ],
  "blocks": [
    {
      "type": "timeless_card",
      "name": "Timeless card",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Legacy Capsule"
        },
        {
          "type": "textarea",
          "id": "copy",
          "label": "Text",
          "default": "Elevated essentials inspired by the ancestors who paved the way. Soft fabrics. Sharp silhouettes."
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "Link label",
          "default": "Explore Legacy"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL",
          "default": "shopify://collections/legacy"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Background image"
        },
        {
          "type": "select",
          "id": "style_class",
          "label": "Background style",
          "default": "liberation",
          "options": [
            {
              "value": "liberation",
              "label": "Liberation"
            },
            {
              "value": "roots",
              "label": "Roots"
            },
            {
              "value": "unity",
              "label": "Unity"
            }
          ]
        }
      ]
    },
    {
      "type": "voice",
      "name": "Voice",
      "settings": [
        {
          "type": "textarea",
          "id": "quote",
          "label": "Quote",
          "default": "This brand is a reminder that resistance is legacy."
        },
        {
          "type": "text",
          "id": "attribution",
          "label": "Attribution",
          "default": "– Amara, community organizer"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Background image"
        },
        {
          "type": "select",
          "id": "style_class",
          "label": "Background style",
          "default": "portrait",
          "options": [
            {
              "value": "portrait",
              "label": "Portrait"
            },
            {
              "value": "street",
              "label": "Street"
            },
            {
              "value": "protest",
              "label": "Protest"
            }
          ]
        }
      ]
    },
    {
      "type": "footer_logo",
      "name": "Footer logo",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "Born RZST"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Resistance home",
      "blocks": [
        {
          "type": "timeless_card"
        },
        {
          "type": "timeless_card",
          "settings": {
            "title": "Roots Reimagined",
            "copy": "Bold prints, unapologetic color, and iconography that centers the people. Made to be worn loud.",
            "link_label": "Shop Roots",
            "link_url": "shopify://collections/roots",
            "style_class": "roots"
          }
        },
        {
          "type": "timeless_card",
          "settings": {
            "title": "Unity Uniform",
            "copy": "Statement layers for those leading the march. Built with purpose, crafted for endurance.",
            "link_label": "Lead with Unity",
            "link_url": "shopify://collections/unity",
            "style_class": "unity"
          }
        },
        {
          "type": "voice"
        },
        {
          "type": "voice",
          "settings": {
            "quote": "Bold, unapologetic, and built for the work.",
            "attribution": "– Malik, art activist",
            "style_class": "street"
          }
        },
        {
          "type": "voice",
          "settings": {
            "quote": "Every drop tells a story worth wearing.",
            "attribution": "– Nia, educator",
            "style_class": "protest"
          }
        },
        {
          "type": "footer_logo"
        },
        {
          "type": "footer_logo",
          "settings": {
            "text": "Unshakable Roots"
          }
        },
        {
          "type": "footer_logo",
          "settings": {
            "text": "Resistance"
          }
        }
      ]
    }
  ]
}
{% endschema %}
